{% extends "base.html" %}
{% block page_body %}

{% if courses %}
<div class="container">
    <form action="#">
        {% csrf_token %}
        {% for course in courses %}
        <div class="form-check">
            <input class="form-check-input" type="checkbox" id="course_{{ course.id }}" name="selected_courses"
                value="{{ course.course }}">
            <label class="form-check-label" for="course_{{ course.id }}">
                {{ course.course }}
            </label>
        </div>
        {% endfor %}
    </form>

    <button type="button" class="btn btn-primary" onclick="getSelectedCourses()">Get Selected Courses</button>
    <br>
    <br>
    <div id="hr_div"></div>
    <h3>Link Professor to Course</h3>
    <form id="selectedCoursesForm">
        <div class="row">
            <div class="col">
                <label for="selectedCourses">Courses</label>
                <select class="form-select" id="selectedCourses" aria-label="Default select example"></select>
            </div>
            <div class="col">
                <label for="Professors">Professors</label>
                <select name="selected_professor" id="Professors" class="form-select">
                    {% for prof in professors %}
                    <option value="{{ prof.name }}">{{ prof.name }}</option>
                    {% endfor %}
                </select>
            </div>
        </div>
        <button type="button" class="btn btn-dark mt-3" onclick="addRow()">Link Course to Professor</button>
    </form>

    <table id="linkedcoursesTable" class="table">
        <thead>
            <tr>
                <th>Course</th>
                <th>Professor</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody>
            <!-- Rows will be dynamically added here -->
        </tbody>
    </table>
    <br>
    <br>
    <div id="hr_div"></div>
    <h3>Limit Professors Time</h3>
    <form id="limit_professors">
        <div class="row">
            <div class="col">
                <label for="select_prof_for_limit">Professors</label>
                <select name="select_prof_for_limit" id="select_prof_for_limit" class="form-select">
                    {% for prof in professors %}
                    <option value="{{ prof.name }}">{{ prof.name }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="col">
                <label for="select_time_for_limit">Time</label>
                <select class="form-select" id="select_time_for_limit" aria-label="Default select example">
                    <option value="shanbe">shanbe</option>
                    <option value="1 shanbe">1 shanbe</option>
                    <option value="2 shanbe">2 shanbe</option>
                    <option value="3 shanbe">3 shanbe</option>
                    <option value="4 shanbe">4 shanbe</option>
                </select>
            </div>
        </div>
        <button type="button" class="btn btn-dark mt-3" onclick="addRow_limit_prof()">Limit Professor</button>
    </form>

    <table id="limited_professors" class="table">
        <thead>
            <tr>
                <th>Professor</th>
                <th>Time</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody>
            <!-- Rows will be dynamically added here -->
        </tbody>
    </table>
    <button type="button" class="btn btn-success" id="get-data-btn" class="btn btn-primary">Schedule</button>
</div>
{% else %}
<div class="container p-5">
    <div class="text-danger">
        <b>
            step 1) Go to the courses page and add some course.
            <br>
            step 2) Go to the professors Page and add some professor.
            <br>
            step 3) Go to the pre requirements page and link courses.
            <br>
            step 4) Come back here.
        </b>
    </div>
</div>
{% endif %}

<br>
<br>
<br>
<br>
{% endblock %}