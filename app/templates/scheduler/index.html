{% extends "base.html" %}
{% block page_body %}

{% if courses %}
<div class="container">
    <form action="#" id="all_courses_form">
        {% csrf_token %}
        <table class="table">
            <thead>
                <tr>
                    <th scope="col">#</th>
                    <th scope="col">Courses</th>
                    <th scope="col">Professor</th>
                    <th scope="col">Select</th>
                </tr>
            </thead>
            <tbody>
                {% for course in courses %}
                <tr>
                    <th scope="row">{{ forloop.counter }}</th>
                    <td>{{ course.course }}</td>
                    <td>{{ course.professor }}</td>
                    <td>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="course_{{ course.id }}" name="selected_courses" value="{{ course.course }}">
                            <label class="form-check-label" for="course_{{ course.id }}"></label>
                        </div>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </form>
    <button type="button" class="btn btn-primary" id="checkAll">Check All</button>
    <div class="mt-3 mb-3">
        <label for="courses_with_out_conditions">Courses With Out Condition</label>
        <p class="p-3">
            sample: fizik_1-riazi_2-assembly
        </p>
        <input type="text" name="courses_with_out_conditions" id="courses_with_out_conditions" class="form-control">
    </div>
    <br>
    <br>
    <div id="hr_div"></div>
    <h3>Limit Professors Time</h3>
    <form id="limit_professors">
        <div class="row">
            <b class="text-danger">if you can not see some professor, you should to go to the <b class="text-dark">Link Courses to Porfessors</b> page and link courses to target professors.</b>
            <div class="col">
                <label for="select_prof_for_limit">Professors</label>
                <select name="select_prof_for_limit" id="select_prof_for_limit" class="form-select">
                    {% for prof in professors %}
                    <option value="{{ prof }}">{{ prof }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="col">
                <label for="select_day_for_limit">Day</label>
                <select class="form-select" id="select_day_for_limit" aria-label="Default select example">
                    <option value="shanbe">shanbe</option>
                    <option value="1 shanbe">1 shanbe</option>
                    <option value="2 shanbe">2 shanbe</option>
                    <option value="3 shanbe">3 shanbe</option>
                    <option value="4 shanbe">4 shanbe</option>
                </select>
            </div>
            <div class="col">
                <label for="select_time_for_limit">Time</label>
                <select class="form-select" id="select_time_for_limit" aria-label="Default select example">
                    <option value="8:30">8:30</option>
                    <option value="10:30">10:30</option>
                    <option value="13:30">13:30</option>
                    <option value="15:30">15:30</option>
                    <option value="17:30">17:30</option>
                </select>
            </div>
        </div>
        <button type="button" class="btn btn-dark mt-3" onclick="addRow_limit_prof()">Limit Professor</button>
    </form>

    <table id="limited_professors" class="table">
        <thead>
            <tr>
                <th>Professor</th>
                <th>Day</th>
                <th>Time</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody>
            <!-- Rows will be dynamically added here -->
        </tbody>
    </table>
    <hr>
    <div class="mt-s mb-3">
        <label for="iteration">Number of random Solutions(Population)</label>
        <input type="number" id="population" name="population" min="1" value="1" max="1000" class="form-control">
    </div>
    <div class="mt-s mb-3">
        <label for="acceptable_interferences">Number of Acceptable Interferences</label>
        <input type="number" id="acceptable_interferences" name="acceptable_interferences" min="0" value="5"  class="form-control">
    </div>
    <b class="mt-3 mb-3" id="approximate_processing_time">

    </b>
    <div class="lds-facebook d-none"><div></div><div></div><div></div></div>
    <button type="button" class="btn btn-success" id="get-data-btn" class="btn btn-primary">Schedule</button>
</div>
{% else %}
<div class="container p-5">
    <div class="text-danger">
        <b>
            step 1) Go to the courses page and add some course.
            <br>
            step 2) Go to the professors Page and add some professor.
            <br>
            step 3) Go to the pre requirements page and link courses.
            <br>
            step 4) Come back here.
        </b>
    </div>
</div>
{% endif %}

<br>
<br>
<br>
<br>
{% endblock %}